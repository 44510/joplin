exports.default=function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){const n=o(1);function r(t){t.defineSimpleMode("todotxt",{start:[{regex:/\s*x\s.*$/,sol:!0,token:"todo-done"},{regex:/\s*\(A\)/,sol:!0,token:"todo-prior-A"},{regex:/\s*\(B\)/,sol:!0,token:"todo-prior-B"},{regex:/\s*\(C\)/,sol:!0,token:"todo-prior-C"},{regex:/\s*\(D\)/,sol:!0,token:"todo-prior-D"},{regex:/\s*\([E-Z]\)/,sol:!0,token:"todo-priority"},{regex:/(\@[^@\s]\S*)/,sol:!0,token:"todo-context"},{regex:/(\s+)(\@[^@\s]\S*)/,token:[null,"todo-context"]},{regex:/(\+[^\+\s]\S*)/,sol:!0,token:"todo-project"},{regex:/(\s+)(\+[^\+\s]\S*)/,token:[null,"todo-project"]},{regex:/([A-Za-z][A-Za-z0-9]*:\S+)/,sol:!0,token:["todo-meta"]},{regex:/(\s+)([A-Za-z][A-Za-z0-9]*:\S+)/,token:[null,"todo-meta"]},{regex:/([1-2]\d{3}[-/\\.](0?[1-9]|1[012])[-/\\.](0[1-9]|[12]\d|3[01]))\b/,token:"todo-date"}]}),t.defineExtension("todoTxtAction",(function(e){const o=e.split(":");switch(o[0]){case"toggleStatus":var r=parseInt(o[1]),s=this.getLine(r);if((i=n.parseLine(s)).isCompleted())i.getCompletionDate&&i.setCompletionDate(null),i.unsetCompleted();else{if(i.getCreationDate()){const t=(new Date).toISOString();i.setCompletionDate(t.slice(0,10))}i.setCompleted()}this.replaceRange(i.toString(),t.Pos(r,0),t.Pos(r,s.length));break;case"changePriority":r=parseInt(o[1]);var i,l="~"==o[2]?null:o[2];s=this.getLine(r);(i=n.parseLine(s)).setPriority(l),this.replaceRange(i.toString(),t.Pos(r,0),t.Pos(r,s.length));break;case"selectLine":r=parseInt(o[1]);var c=(s=this.getLine(r)).search(/[^\s]/),u=s.search(/[^\s](?=[\s]*$)/);this.setSelection(t.Pos(r,c),t.Pos(r,u+1))}}))}t.exports={default:function(t){return{plugin:r,codeMirrorResources:[],codeMirrorOptions:{},assets:function(){return[{mime:"text/css",inline:!0,text:".cm-todo-done, .cm-todo-meta, .cm-todo-date { color: var(--joplin-color-faded);}\n\t\t\t\t\t\t\t.cm-todo-priority { font-weight: bold; }\n\t\t\t\t\t\t\t.cm-todo-prior-A { color: rgb(247, 210, 110); font-weight: bold; }\n\t\t\t\t\t\t\t.cm-todo-prior-B { color: rgb(152, 104, 1); font-weight: bold; }\n\t\t\t\t\t\t\t.cm-todo-prior-C { color: rgb(80, 161, 79); font-weight: bold; }\n\t\t\t\t\t\t\t.cm-todo-prior-D { color: rgb(21, 91, 218); font-weight: bold; }\n\t\t\t\t\t\t\t.cm-todo-project { background-color: rgb(247, 210, 110); color: black}\n\t\t\t\t\t\t\t.cm-todo-context { color: rgb(152, 104, 1) }\n\t\t\t\t\t\t"}]}}}}},function(t,e,o){var n;n=function(){return(()=>{"use strict";var t={283:t=>{function e(t){switch(t){case 9:case 32:return!0}return!1}function o(t){this.tokens_=[];for(var n=0,r=t.length-1;n<t.length&&e(t.charCodeAt(n));n++);for(;r>=0&&e(t.charCodeAt(r));r--);const s=t.substr(n,r-n+1);this.tokens_.push({type:"leadingSpace",content:t.substr(0,n)});const i=s.split(" ");i.length>0&&"x"==i[0]?this.tokens_.push({type:"status",content:i.shift()}):this.tokens_.push({type:"status",content:null}),i.length>0&&3==i[0].length&&40==i[0].charCodeAt(0)&&41==i[0].charCodeAt(2)&&i[0].charCodeAt(1)>=65&&i[0].charCodeAt(1)<=90?this.tokens_.push({type:"priority",content:i.shift()}):this.tokens_.push({type:"priority",content:null}),i.length>0&&o.isIsoDate(i[0])?(i.length>1&&o.isIsoDate(i[1])?this.tokens_.push({type:"completionDate",content:i.shift()}):this.tokens_.push({type:"completionDate",content:null}),this.tokens_.push({type:"creationDate",content:i.shift()})):(this.tokens_.push({type:"completionDate",content:null}),this.tokens_.push({type:"creationDate",content:null}));for(let t=0;t<i.length;t++){const e=i[t];e.length>1&&43==e.charCodeAt(0)&&43!=e.charCodeAt(1)?this.tokens_.push({type:"project",content:e}):e.length>1&&64==e.charCodeAt(0)&&64!=e.charCodeAt(1)?this.tokens_.push({type:"context",content:e}):e.length>2&&e.charCodeAt(0)>=65&&e.charCodeAt(0)<=122&&e.indexOf(":")>=0&&e.indexOf(":")!=e.length-1&&0==!!e.split(":")[0].match(/[^a-zA-Z0-9]/)?this.tokens_.push({type:"meta",content:e}):this.tokens_.push({type:"text",content:e})}this.tokens_.push({type:"trailingSpace",content:t.substr(r+1,t.length)})}o.isIsoDate=function(t){return 10==t.length&&(45==t.charCodeAt(4)||45==t.charCodeAt(7))&&!isNaN(Date.parse(t))},o.prototype.toString=function(){return this.tokens_[0].content+this.tokens_.slice(1,-1).filter(t=>t.content).map(t=>t.content).join(" ")+this.tokens_[this.tokens_.length-1].content},o.prototype.getStatus=function(t=null){return this.tokens_[1].content?this.tokens_[1].content:t},o.prototype.isCompleted=function(){return!!this.tokens_[1].content},o.prototype.setCompleted=function(){this.tokens_[1].content="x"},o.prototype.unsetCompleted=function(){this.tokens_[1].content=null},o.prototype.getPriority=function(t=null){return this.tokens_[2].content?this.tokens_[2].content.charAt(1):t},o.prototype.setPriority=function(t=null){if(t){if(t.length>1)return;const e=t.charCodeAt(0);if(e<65||e>90)return;this.tokens_[2].content="("+t+")"}else this.tokens_[2].content=null},o.prototype.getCompletionDate=function(t=null){return t=t&&o.isIsoDate(t)?t:null,this.tokens_[3].content?this.tokens_[3].content:t},o.prototype.setCompletionDate=function(t){null!==t?o.isIsoDate(t)&&(this.tokens_[3].content=t,this.tokens_[4].content=this.tokens_[4].content||t):this.tokens_[3].content=null},o.prototype.getCreationDate=function(t=null){return t=t&&o.isIsoDate(t)?t:null,this.tokens_[4].content?this.tokens_[4].content:t},o.prototype.setCreationDate=function(t){if(null===t)return this.tokens_[3].content=null,void(this.tokens_[4].content=null);o.isIsoDate(t)&&(this.tokens_[4].content=t)},o.prototype.getProjects=function(){const t=[];for(let e=5;e<this.tokens_.length-1;e++){const o=this.tokens_[e];"project"==o.type&&t.push(o.content)}return t},o.prototype.getContexts=function(){const t=[];for(let e=5;e<this.tokens_.length-1;e++){const o=this.tokens_[e];"context"==o.type&&t.push(o.content)}return t},o.prototype.getMetadata=function(){var t={};for(let e=5;e<this.tokens_.length-1;e++){const o=this.tokens_[e];if("meta"==o.type){const e=o.content.split(":");e[0]in t?t[e[0]].push(e[1]):t[e[0]]=[e[1]]}}return t},o.prototype.getMeta=function(t){var e=[];for(let o=5;o<this.tokens_.length-1;o++){const n=this.tokens_[o];"meta"==n.type&&n.content.split(":")[0]==t&&e.push(n.content.slice(t.length+1))}return e},o.prototype.getTokens=function(){return this.tokens_},o.prototype.getHeadTokens=function(){return this.tokens_.slice(1,5)},o.prototype.getBodyTokens=function(){return this.tokens_.slice(5,this.tokens_.length-1)},o.prototype.trim=function(){return this.tokens_[0].content="",this.tokens_[this.tokens_.length-1].content="",this},t.exports=o},718:(t,e,o)=>{var n=o(283),r=o(814);function s(t){this.raw_=t,this.list_=[],this.deleted_=[];const e=t.split("\n");for(let t=0;t<e.length;t++){const o=e[t],r=o.trim().length>0?new n(o):null;this.list_.push({lineIdx:t,raw:o,todo:r})}}s.parse=function(t){return new s(t)},s.parseLine=function(t){return t.trim().length>0?new n(t):null},s.isIsoDate=function(t){return n.isIsoDate(t)},s.prototype.toString=function(){return this.list_.map(t=>t.todo?t.todo.toString():t.raw).join("\n")},s.prototype.getList=function(){return this.list_},s.prototype.getDeleted=function(){return this.deleted_},s.prototype.getTodos=function(){return this.list_.filter(t=>t.todo).map(t=>t.todo)},s.prototype.getTodoView=function(){return new r(this.list_.filter(t=>t.todo),this)},s.prototype.trim=function(){return this.getTodos().forEach(t=>t.trim()),this.deleted_=this.deleted_.concat(this.list_.filter(t=>null==t.todo)),this.list_=this.list_.filter(t=>t.todo),this},s.prototype.delete=function(t){const e=this.list_.indexOf(t);return e>=0&&(this.list_.splice(e,1),this.deleted_.push(t)),this},t.exports=s},814:t=>{var e={default:{},status:{nullValue:"o",order:"asc"},priority:{nullValue:"~",order:"desc"},creationDate:{nullValue:"1970-01-01",order:"desc"},completionDate:{nullValue:"1970-01-01",order:"desc"},"meta-due":{nullValue:"9999-12-31",order:"asc"}},o={status:{nullValue:"o"},priority:{nullValue:"~"},project:{nullValue:"+null"},context:{nullValue:"@null"},"meta-due":{nullValue:"null"}};function n(t,e,o){return o.indexOf(t)===e}function r(t){const e=t[0],o="asc"==t[1]?1:-1,n=t[2];if("meta-"==e.slice(0,5)){var r=e.slice(5);return function(t,e){var s=t.todo.getMeta(r)[0]||n,i=e.todo.getMeta(r)[0]||n;return console.log(e.todo.getMeta(r)),s>i?1*o:s<i?-1*o:0}}switch(e){case"status":return function(t,e){return o*(t.todo.getStatus(n).charCodeAt(0)-e.todo.getStatus(n).charCodeAt(0))};case"priority":return function(t,e){return o*(e.todo.getPriority(n).charCodeAt(0)-t.todo.getPriority(n).charCodeAt(0))};case"creationDate":return function(t,e){return o*(Date.parse(t.todo.getCreationDate(n))-Date.parse(e.todo.getCreationDate(n)))};case"completionDate":return function(t,e){return o*(Date.parse(t.todo.getCompletionDate(n))-Date.parse(e.todo.getCompletionDate(n)))}}}function s(t,e){const o=t[0];var n=t[1];const r=t[2];if("meta-"==o.slice(0,5)){var s=o.slice(5);return function(t){const o=t.todo.getMeta(s);return o.length<1&&o.push(r),e?(n=n.map(t=>t.toLowerCase()),o.map(t=>t.toLowerCase()).some(t=>n.includes(t))):o.some(t=>n.includes(t))}}switch(o){case"status":return function(t){return n.includes(t.todo.getStatus(r))};case"priority":return function(t){return n.includes(t.todo.getPriority(r))};case"project":return function(t){const o=t.todo.getProjects();return o.length<1&&o.push(r),n=n.map(t=>43==t.charCodeAt(0)?t:"+"+t),e?(n=n.map(t=>t.toLowerCase()),o.map(t=>t.toLowerCase()).some(t=>n.includes(t))):o.some(t=>n.includes(t))};case"context":return function(t){const o=t.todo.getContexts();return o.length<1&&o.push(r),n=n.map(t=>64==t.charCodeAt(0)?t:"@"+t),e?(n=n.map(t=>t.toLowerCase()),o.map(t=>t.toLowerCase()).some(t=>n.includes(t))):o.some(t=>n.includes(t))}}}function i(t,e){this.list_=t,this.todoTxt_=e}i.prototype.toString=function(){return this.list_.map(t=>t.todo?t.lineIdx+": "+t.todo.toString():t.lineIdx+": "+t.raw).join("\n")},i.prototype.getList=function(){return this.list_},i.prototype.sort=function(t){for(var o=[],n=0;n<t.length;n++){const r=t[n];if(r.length<1||"meta-"!=r[0].slice(0,5)&&r[0]in e==0)continue;const i=r[0];if("default"!=i){var s=i in e?e[i].order:"asc",l=i in e?e[i].nullValue:"0";r.length>1&&["desc","asc"].includes(r[1])&&(s=r[1]),r.length>2&&(l=r[2]),(o=o.filter(t=>t[0]!==i)).push([i,s,l])}else(o=o.filter(t=>"priority"!==t[0]&&"status"!==t[0])).push(["priority",e.priority.order,e.priority.nullValue]),o.push(["status",e.status.order,e.status.nullValue])}var c=this.list_;for(n=0;n<o.length;n++)c=c.sort(r(o[n]));return new i(c,this.todoTxt_)},i.prototype.filter=function(t,e=!1){for(var n=[],r=0;r<t.length;r++){const e=t[r];if(!(e.length<2||"meta-"!=e[0].slice(0,5)&&e[0]in o==0||e[1].length<1)){var l=e[0]in o?o[e[0]].nullValue:"null";e.length>2&&(l=e[2]),n.push([e[0],e[1],l])}}var c=this.list_;for(r=0;r<n.length;r++)c=c.filter(s(n[r],e));return new i(c,this.todoTxt_)},i.prototype.count=function(t="all"){switch(t.toLowerCase()){case"completed":return this.list_.filter(t=>t.todo.isCompleted()).length;case"notcompleted":return this.list_.filter(t=>!1===t.todo.isCompleted()).length;default:return this.list_.length}},i.prototype.getCountedProjects=function(){return this.list_.reduce((t,e)=>t.concat(e.todo.getProjects().filter(n)),[]).reduce((t,e)=>(t[e]=1+(0|t[e]),t),{})},i.prototype.getCountedContexts=function(){return this.list_.reduce((t,e)=>t.concat(e.todo.getContexts().filter(n)),[]).reduce((t,e)=>(t[e]=1+(0|t[e]),t),{})},t.exports=i}},e={};return function o(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,o),s.exports}(718)})()},t.exports=n()}]).default;